item = ("<%= @item.id %>");

cart = localStorage.getItem('cart');

if(cart.length != 0){
  cart = JSON.parse(cart);
}

buttons = document.getElementsByClassName("cart__remove");

for(let i=0; i< buttons.length; i++){

  el=buttons[i].firstElementChild.textContent.replace(/\s/g,'');

  if (el == item){
    buttons[i].parentElement.parentElement.parentElement.remove();
    cart.splice(cart.indexOf(item),1);
  }
}

if(cart.length<=1){

  let mainDiv = document.getElementsByTagName("div")[1];
  mainDiv.id="main";

}

if(cart.length==0){
  let nxtBtn = document.getElementById("nextRow");
  nxtBtn.remove();
}

localStorage.clear();

localStorage.setItem('cart', JSON.stringify(cart));
