<div id="main">
  <div class="main--show">
    <%= render(partial: 'item_card--show',
              locals: {card_title: @item.title, price: @item.price, photo_url: @item.photo_url, photo_url2: @item.photo_url2,photo_url3: @item.photo_url3, size: @item.size, item: @item})%>
    <div class="card--show__desc">
      <div class="card--show__return">
        <%=link_to "Retour", items_path%>
      </div>
    </div>
  </div>
</div>

<script type="text/javascript">

 //Cart configuration javascript

 cart=[];
 if(localStorage.getItem('cart').length > 0){
   cart = localStorage.getItem('cart');
   cart=JSON.parse(cart);
 }



 buttons = document.getElementsByClassName("card__add");

 for(let i=0; i< buttons.length; i++){

   sign = buttons[i].lastElementChild;


   el=buttons[i].firstElementChild.textContent.replace(/\s/g,'');

   if(cart.indexOf(el)>=0){
     console.log(el)
     sign.remove();
     buttons[i].lastElementChild.remove();

     var added = document.createElement("div");
     added.textContent="AJOUTÃ‰ AU PANIER";
     added.className="card__add--added"

     buttons[i].appendChild(added);

     buttons[i].className = "card__add reverse";
     cart.push(item);
   }
 }
</script>
